{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from 'flatpickr';\nimport 'flatpickr/dist/flatpickr.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nlet userSelectedDate;\nlet timerInterval;\nconst startButton = document.getElementById('start-btn');\nconst daysDisplay = document.getElementById('days');\nconst hoursDisplay = document.getElementById('hours');\nconst minutesDisplay = document.getElementById('minutes');\nconst secondsDisplay = document.getElementById('seconds');\n\n    document.addEventListener('DOMContentLoaded', function () {\n      const datePicker = flatpickr(\"#datetime-picker\", {\n        enableTime: true,\n        onClose: function (selectedDates, dateStr, instance) {\n          userSelectedDate = selectedDates[0];\n          const now = new Date();\n          if (userSelectedDate <= now) {\n            iziToast.error({\n              position: 'topCenter',\n              title: 'Error',\n              message: 'Please choose a date in the future',\n            });\n            startButton.disabled = true;\n          } else {\n            startButton.disabled = false;\n          }\n          clearInterval(timerInterval);\n        }\n      });\n\n      function updateTimer() {\n        const now = new Date();\n        const ms = userSelectedDate - now;\n        if (ms <= 0) {\n          clearInterval(timerInterval);\n          iziToast.success({\n            title: 'Success',\n            message: 'Countdown finished!',\n          });\n          startButton.disabled = false;\n          return;\n        }\n\n        const { days, hours, minutes, seconds } = convertMs(ms);\n        daysDisplay.innerText = addLeadingZero(days);\n        hoursDisplay.innerText = addLeadingZero(hours);\n        minutesDisplay.innerText = addLeadingZero(minutes);\n        secondsDisplay.innerText = addLeadingZero(seconds);\n      }\n\n      function addLeadingZero(number) {\n        return number < 10 ? '0' + number : number;\n      }\n\n\n      startButton.addEventListener('click', function () {\n        if (!userSelectedDate) {\n          iziToast.error({\n          position: 'topCenter',\n          title: 'Error',\n          message: 'Please choose a future date before starting the timer',\n          });\n          return;\n        }\n        timerInterval = setInterval(updateTimer, 1000);\n        this.disabled = true;\n      });\n    });\n\n    function convertMs(ms) {\n      // Number of milliseconds per unit of time\n      const second = 1000;\n      const minute = second * 60;\n      const hour = minute * 60;\n      const day = hour * 24;\n      // Remaining days\n      const days = Math.floor(ms / day);\n      // Remaining hours\n      const hours = Math.floor((ms % day) / hour);\n      // Remaining minutes\n      const minutes = Math.floor(((ms % day) % hour) / minute);\n      // Remaining seconds\n      const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n      return { days, hours, minutes, seconds };\n    }"],"names":["userSelectedDate","timerInterval","startButton","daysDisplay","hoursDisplay","minutesDisplay","secondsDisplay","flatpickr","selectedDates","dateStr","instance","iziToast","updateTimer","ms","days","hours","minutes","seconds","convertMs","addLeadingZero","number"],"mappings":"sGAKA,IAAIA,EACAC,EACJ,MAAMC,EAAc,SAAS,eAAe,WAAW,EACjDC,EAAc,SAAS,eAAe,MAAM,EAC5CC,EAAe,SAAS,eAAe,OAAO,EAC9CC,EAAiB,SAAS,eAAe,SAAS,EAClDC,EAAiB,SAAS,eAAe,SAAS,EAEpD,SAAS,iBAAiB,mBAAoB,UAAY,CACrCC,EAAU,mBAAoB,CAC/C,WAAY,GACZ,QAAS,SAAUC,EAAeC,EAASC,EAAU,CACnDV,EAAmBQ,EAAc,CAAC,EAE9BR,GADQ,IAAI,MAEdW,EAAS,MAAM,CACb,SAAU,YACV,MAAO,QACP,QAAS,oCACvB,CAAa,EACDT,EAAY,SAAW,IAEvBA,EAAY,SAAW,GAEzB,cAAcD,CAAa,CAC5B,CACT,CAAO,EAED,SAASW,GAAc,CAErB,MAAMC,EAAKb,EADC,IAAI,KAEhB,GAAIa,GAAM,EAAG,CACX,cAAcZ,CAAa,EAC3BU,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,qBACrB,CAAW,EACDT,EAAY,SAAW,GACvB,MACD,CAED,KAAM,CAAE,KAAAY,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,GAAYC,EAAUL,CAAE,EACtDV,EAAY,UAAYgB,EAAeL,CAAI,EAC3CV,EAAa,UAAYe,EAAeJ,CAAK,EAC7CV,EAAe,UAAYc,EAAeH,CAAO,EACjDV,EAAe,UAAYa,EAAeF,CAAO,CAClD,CAED,SAASE,EAAeC,EAAQ,CAC9B,OAAOA,EAAS,GAAK,IAAMA,EAASA,CACrC,CAGDlB,EAAY,iBAAiB,QAAS,UAAY,CAChD,GAAI,CAACF,EAAkB,CACrBW,EAAS,MAAM,CACf,SAAU,YACV,MAAO,QACP,QAAS,uDACnB,CAAW,EACD,MACD,CACDV,EAAgB,YAAYW,EAAa,GAAI,EAC7C,KAAK,SAAW,EACxB,CAAO,CACP,CAAK,EAED,SAASM,EAAUL,EAAI,CAOrB,MAAMC,EAAO,KAAK,MAAMD,EAAK,KAAG,EAE1BE,EAAQ,KAAK,MAAOF,EAAK,MAAO,IAAI,EAEpCG,EAAU,KAAK,MAAQH,EAAK,MAAO,KAAQ,GAAM,EAEjDI,EAAU,KAAK,MAASJ,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CAC5C"}
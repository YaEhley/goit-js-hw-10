{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from 'flatpickr';\nimport 'flatpickr/dist/flatpickr.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nlet userSelectedDate;\nlet timerInterval;\nconst startButton = document.querySelector('[data-start]');\nconst daysDisplay = document.querySelector('[data-days]');\nconst hoursDisplay = document.querySelector('[data-hours]');\nconst minutesDisplay = document.querySelector('[data-minutes]');\nconst secondsDisplay = document.querySelector('[data-seconds]');\n\n\n\ndocument.addEventListener('DOMContentLoaded', function () {\n      startButton.disabled = true;\n      flatpickr(\"#datetime-picker\", {\n        enableTime: true,\n        onClose: function (selectedDates) {\n          userSelectedDate = selectedDates[0];\n          const now = new Date();\n          if (userSelectedDate <= now) {\n            iziToast.error({\n              position: 'topCenter',\n              title: 'Error',\n              message: 'Please choose a date in the future',\n            });\n            startButton.disabled = true;\n          } else {\n            startButton.disabled = false;\n          }\n          clearInterval(timerInterval);\n        }\n      });\n\n      function updateTimer() {\n        const now = new Date();\n        const ms = userSelectedDate - now;\n        if (ms <= 0) {\n          clearInterval(timerInterval);\n          iziToast.success({\n            title: 'Success',\n            message: 'Countdown finished!',\n          });\n          startButton.disabled = false;\n          return;\n        }\n\n        const { days, hours, minutes, seconds } = convertMs(ms);\n        daysDisplay.innerText = addLeadingZero(days);\n        hoursDisplay.innerText = addLeadingZero(hours);\n        minutesDisplay.innerText = addLeadingZero(minutes);\n        secondsDisplay.innerText = addLeadingZero(seconds);\n      }\n\n      function addLeadingZero(value) {\n        return value.toString().padStart(2, '0');\n      }\n\n\n      startButton.addEventListener('click', function () {\n        if (!userSelectedDate) {\n          iziToast.error({\n          position: 'topCenter',\n          title: 'Error',\n          message: 'Please choose a future date before starting the timer',\n          });\n          return;\n        }\n        timerInterval = setInterval(updateTimer, 1000);\n        this.disabled = true;\n      });\n    });\n\n    function convertMs(ms) {\n      // Number of milliseconds per unit of time\n      const second = 1000;\n      const minute = second * 60;\n      const hour = minute * 60;\n      const day = hour * 24;\n      // Remaining days\n      const days = Math.floor(ms / day);\n      // Remaining hours\n      const hours = Math.floor((ms % day) / hour);\n      // Remaining minutes\n      const minutes = Math.floor(((ms % day) % hour) / minute);\n      // Remaining seconds\n      const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n      return { days, hours, minutes, seconds };\n    }"],"names":["userSelectedDate","timerInterval","startButton","daysDisplay","hoursDisplay","minutesDisplay","secondsDisplay","flatpickr","selectedDates","iziToast","updateTimer","ms","days","hours","minutes","seconds","convertMs","addLeadingZero","value"],"mappings":"sGAKA,IAAIA,EACAC,EACJ,MAAMC,EAAc,SAAS,cAAc,cAAc,EACnDC,EAAc,SAAS,cAAc,aAAa,EAClDC,EAAe,SAAS,cAAc,cAAc,EACpDC,EAAiB,SAAS,cAAc,gBAAgB,EACxDC,EAAiB,SAAS,cAAc,gBAAgB,EAI9D,SAAS,iBAAiB,mBAAoB,UAAY,CACpDJ,EAAY,SAAW,GACvBK,EAAU,mBAAoB,CAC5B,WAAY,GACZ,QAAS,SAAUC,EAAe,CAChCR,EAAmBQ,EAAc,CAAC,EAE9BR,GADQ,IAAI,MAEdS,EAAS,MAAM,CACb,SAAU,YACV,MAAO,QACP,QAAS,oCACvB,CAAa,EACDP,EAAY,SAAW,IAEvBA,EAAY,SAAW,GAEzB,cAAcD,CAAa,CAC5B,CACT,CAAO,EAED,SAASS,GAAc,CAErB,MAAMC,EAAKX,EADC,IAAI,KAEhB,GAAIW,GAAM,EAAG,CACX,cAAcV,CAAa,EAC3BQ,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,qBACrB,CAAW,EACDP,EAAY,SAAW,GACvB,MACD,CAED,KAAM,CAAE,KAAAU,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,GAAYC,EAAUL,CAAE,EACtDR,EAAY,UAAYc,EAAeL,CAAI,EAC3CR,EAAa,UAAYa,EAAeJ,CAAK,EAC7CR,EAAe,UAAYY,EAAeH,CAAO,EACjDR,EAAe,UAAYW,EAAeF,CAAO,CAClD,CAED,SAASE,EAAeC,EAAO,CAC7B,OAAOA,EAAM,SAAU,EAAC,SAAS,EAAG,GAAG,CACxC,CAGDhB,EAAY,iBAAiB,QAAS,UAAY,CAChD,GAAI,CAACF,EAAkB,CACrBS,EAAS,MAAM,CACf,SAAU,YACV,MAAO,QACP,QAAS,uDACnB,CAAW,EACD,MACD,CACDR,EAAgB,YAAYS,EAAa,GAAI,EAC7C,KAAK,SAAW,EACxB,CAAO,CACP,CAAK,EAED,SAASM,EAAUL,EAAI,CAOrB,MAAMC,EAAO,KAAK,MAAMD,EAAK,KAAG,EAE1BE,EAAQ,KAAK,MAAOF,EAAK,MAAO,IAAI,EAEpCG,EAAU,KAAK,MAAQH,EAAK,MAAO,KAAQ,GAAM,EAEjDI,EAAU,KAAK,MAASJ,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CAC5C"}
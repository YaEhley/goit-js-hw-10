{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from 'flatpickr';\nimport 'flatpickr/dist/flatpickr.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\n    document.addEventListener('DOMContentLoaded', function () {\n      let userSelectedDate;\n      const datePicker = flatpickr(\"#datetime-picker\", {\n        enableTime: true,\n        onClose: function (selectedDates, dateStr, instance) {\n          userSelectedDate = selectedDates[0];\n          const now = new Date();\n          if (userSelectedDate <= now) {\n            iziToast.error({\n              position: 'topCenter',\n              title: 'Error',\n              message: 'Please choose a date in the future',\n            });\n            document.querySelector('#start-btn').disabled = true;\n          } else {\n            document.querySelector('#start-btn').disabled = false;\n          }\n        }\n      });\n\n      function updateTimer() {\n        const now = new Date();\n        const ms = userSelectedDate - now;\n        if (ms <= 0) {\n          clearInterval(timerInterval);\n          iziToast.success({\n            title: 'Success',\n            message: 'Countdown finished!',\n          });\n          document.querySelector('#start-btn').disabled = false;\n          return;\n        }\n\n        const { days, hours, minutes, seconds } = convertMs(ms);\n        document.querySelector('#days').innerText = days;\n        document.querySelector('#hours').innerText = hours;\n        document.querySelector('#minutes').innerText = minutes;\n        document.querySelector('#seconds').innerText = seconds;\n      }\n\n      let timerInterval;\n      document.querySelector('#start-btn').addEventListener('click', function () {\n        timerInterval = setInterval(updateTimer, 1000);\n        this.disabled = true;\n      });\n    });\n\n    function convertMs(ms) {\n      // Number of milliseconds per unit of time\n      const second = 1000;\n      const minute = second * 60;\n      const hour = minute * 60;\n      const day = hour * 24;\n      // Remaining days\n      const days = Math.floor(ms / day);\n      // Remaining hours\n      const hours = Math.floor((ms % day) / hour);\n      // Remaining minutes\n      const minutes = Math.floor(((ms % day) % hour) / minute);\n      // Remaining seconds\n      const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n      return { days, hours, minutes, seconds };\n    }"],"names":["userSelectedDate","flatpickr","selectedDates","dateStr","instance","iziToast","updateTimer","ms","timerInterval","days","hours","minutes","seconds","convertMs"],"mappings":"sGAKI,SAAS,iBAAiB,mBAAoB,UAAY,CACxD,IAAIA,EACeC,EAAU,mBAAoB,CAC/C,WAAY,GACZ,QAAS,SAAUC,EAAeC,EAASC,EAAU,CACnDJ,EAAmBE,EAAc,CAAC,EAE9BF,GADQ,IAAI,MAEdK,EAAS,MAAM,CACb,SAAU,YACV,MAAO,QACP,QAAS,oCACvB,CAAa,EACD,SAAS,cAAc,YAAY,EAAE,SAAW,IAEhD,SAAS,cAAc,YAAY,EAAE,SAAW,EAEnD,CACT,CAAO,EAED,SAASC,GAAc,CAErB,MAAMC,EAAKP,EADC,IAAI,KAEhB,GAAIO,GAAM,EAAG,CACX,cAAcC,CAAa,EAC3BH,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,qBACrB,CAAW,EACD,SAAS,cAAc,YAAY,EAAE,SAAW,GAChD,MACD,CAED,KAAM,CAAE,KAAAI,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,GAAYC,EAAUN,CAAE,EACtD,SAAS,cAAc,OAAO,EAAE,UAAYE,EAC5C,SAAS,cAAc,QAAQ,EAAE,UAAYC,EAC7C,SAAS,cAAc,UAAU,EAAE,UAAYC,EAC/C,SAAS,cAAc,UAAU,EAAE,UAAYC,CAChD,CAED,IAAIJ,EACJ,SAAS,cAAc,YAAY,EAAE,iBAAiB,QAAS,UAAY,CACzEA,EAAgB,YAAYF,EAAa,GAAI,EAC7C,KAAK,SAAW,EACxB,CAAO,CACP,CAAK,EAED,SAASO,EAAUN,EAAI,CAOrB,MAAME,EAAO,KAAK,MAAMF,EAAK,KAAG,EAE1BG,EAAQ,KAAK,MAAOH,EAAK,MAAO,IAAI,EAEpCI,EAAU,KAAK,MAAQJ,EAAK,MAAO,KAAQ,GAAM,EAEjDK,EAAU,KAAK,MAASL,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAE,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CAC5C"}